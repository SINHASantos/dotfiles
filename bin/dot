#!/usr/bin/env ruby

require 'thor'

class MyCLI < Thor
  desc "symlink", "Symlink files matching *.symlink into ~/"
  def symlink
    Dir.glob("*.symlink").each do |path|
      link "~/dotfiles/#{path}", "~/.#{path.sub(".symlink", "")}"
    end
  end

  private

  def link path, destination
    system "rm -rf #{destination}"
    system "ln -s #{path} #{destination}"
  end
end

MyCLI.start(ARGV)
